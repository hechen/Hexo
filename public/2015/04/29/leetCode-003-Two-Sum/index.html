<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="leetCode[003]Two Sum"><meta name="keywords" content="Algorithm,Array"><meta name="author" content="Chen,undefined"><meta name="copyright" content="Chen"><title>leetCode[003]Two Sum | Writing, Thinking and Coding.</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.5.6"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?b8b088e1ebab51ca1f8e3c11ac0476a1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"}}</script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#题目1：-Two-Sum-1"><span class="toc-number">1.</span> <span class="toc-text">题目1： Two Sum 1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#题目2：Two-Sum-2"><span class="toc-number">2.</span> <span class="toc-text">题目2：Two Sum 2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#题意："><span class="toc-number">2.1.</span> <span class="toc-text">题意：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关键点："><span class="toc-number">2.2.</span> <span class="toc-text">关键点：</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://en.gravatar.com/userimage/112198960/798360714fd6208c863662c667290d7d.jpg?size=200"></div><div class="author-info__name text-center">Chen</div><div class="author-info__description text-center">I do stuff.</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">38</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">47</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">14</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container" style="background-image:url(true)"><div id="page-header"><span class="pull-left"><a id="site-name" href="/">Writing, Thinking and Coding.</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">leetCode[003]Two Sum</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-05-02</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/LeetCode/">LeetCode</a><span class="post-meta__separator">|</span><i class="fa fa-comment-o post-meta__icon" aria-hidden="true"></i><a href="/2015/04/29/leetCode-003-Two-Sum/#disqus_thread"><span class="disqus-comment-count" data-disqus-identifier="2015/04/29/leetCode-003-Two-Sum/"></span></a><div class="post-meta-wordcount"><span>Word count: </span><span class="word-count">951</span><span class="post-meta__separator">|</span><span>Reading time: 4 min</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>本文主要包括leetCode题集里的两个题目，Two Sum1 和 Two Sum2</p><a id="more"></a><h3 id="题目1：-Two-Sum-1"><a href="#题目1：-Two-Sum-1" class="headerlink" title="题目1： Two Sum 1"></a>题目1： Two Sum 1</h3><p>Given an array of integers, find two numbers such that they add up to a specific target number.</p><p>The function twoSum should return indices of the two numbers such that they add up to the target,<br>where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p><p>You may assume that each input would have exactly one solution.</p><p>　　　　Input: numbers={2, 7, 11, 15}, target=9<br>　　　　Output: index1=1, index2=2</p><p>####题意：</p><p>题目中要求输入一个整形数组以及一个target，找出该整型数组中这样两个元素，使得这两个元素之和等于指定target的值。 题目中假设该两个元素必然存在，并且是只有一组（所以相对简单），返回的是这两个元素的index值（数组Index从1开始）。</p><p>####关键点：</p><p>我们经常会使用空间换取时间的方法来获取较小的时间复杂度。因此增加必要的数据结构来减少时间复杂度。这道题目一样，我们增加一个map结构，key为数组元素值，value为其在数组中对应的index。每次遍历到数组元素便去map结构中查找对应的补数，如果存在，那就说明找到了。如果没存在就记录当前元素以及其index，直到结束。</p><p>代码实现如下：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">class Solution&#123;</span><br><span class="line">		public:</span><br><span class="line">	     // O(n) runtime, O(n) space</span><br><span class="line">	     // We could reduce the runtime complexity of looking up a value to O(1) using a hash map that maps a value to its index.</span><br><span class="line">	    std::vector&lt;int&gt; twoSum(std::vector&lt;int&gt;&amp; numbers, int target)&#123;</span><br><span class="line">	        std::vector&lt;int&gt; vecRet;</span><br><span class="line">	        std::map&lt;int, int&gt; mapIndex;</span><br><span class="line">	        for (size_t i = 0; i &lt; numbers.size(); ++i)&#123;</span><br><span class="line">	            if (0 != mapIndex.count(target - numbers[i]))&#123;</span><br><span class="line">	                int nIndex = mapIndex[target - numbers[i]];</span><br><span class="line">	                // 当前存储的Index肯定比i要小，注意要排除i</span><br><span class="line">	                if (nIndex &lt; i)&#123;</span><br><span class="line">	                    vecRet.push_back(nIndex + 1);</span><br><span class="line">	                    vecRet.push_back(i + 1);</span><br><span class="line">	                    return vecRet;</span><br><span class="line">	                &#125;</span><br><span class="line">	            &#125; else &#123;</span><br><span class="line">	                mapIndex[numbers[i]] = i;</span><br><span class="line">	            &#125;</span><br><span class="line">	        &#125;</span><br><span class="line">	        return vecRet;</span><br><span class="line">	    &#125; // twoSum</span><br><span class="line">	&#125;;</span><br></pre></td></tr></table></figure><p>leetCode的OJ系统评判结果如下所示：<br><img src="http://7xilk1.com1.z0.glb.clouddn.com/leetCode003C++.png" alt="leetCode Two Sum 1 C++"></p><p>本地运行结果如下所示：<br><img src="http://7xilk1.com1.z0.glb.clouddn.com/leetCode003Run1.jpg" alt="leetCode Two Sum 1 C++  Run"></p><h3 id="题目2：Two-Sum-2"><a href="#题目2：Two-Sum-2" class="headerlink" title="题目2：Two Sum 2"></a>题目2：Two Sum 2</h3><p>Given an array of integers, find two numbers such that they add up to a specific target number.</p><p>The function twoSum should return indices of the two numbers such that they add up to the target, where index1 must be less than index2. Please note that your returned answers (both index1 and index2) are not zero-based.</p><p>You may assume that each input would have exactly one solution.</p><p><strong>Input</strong>: numbers={2, 7, 11, 15}, target=9<br><strong>Output</strong>: index1=1, index2=2</p><h4 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h4><p>和上题中Two Sum1 比较，大家发现什么异同了没（没发现的童鞋面壁去），这道题目仅仅更改了输入条件，Input的数组为已经排序的数组，并且呈现升序。输入条件变严格，我们依然可以使用前一篇问丈夫中的方法进行。那这里既然为升序，我们能不能不使用前一种方法而又能够达到O（n）时间复杂度呢？ 答案是必然的。</p><h4 id="关键点："><a href="#关键点：" class="headerlink" title="关键点："></a>关键点：</h4><ol><li>数组既然排序，元素之前的大小关系相对确定，存在的这一对元素必然处于相对固定的位置，我们可以使用两个游标，一个从头部遍历，一个从尾部遍历，两者所指元素之和如果偏大，调整后面的游标，相反则调整前面的游标。</li><li>由于两个int之和有可能出现INT_MAX的情况，所以如果输入类型给定int，则我们需要使用long long类型来表示才能避免出现溢出的情况。</li></ol><p>实现代码如下：</p><pre><code>class Solution{
    public:
        std::vector&lt;int&gt; twoSum(std::vector&lt;int&gt; &amp;numbers, int target){
        std::vector&lt;int&gt; vecRet;
        int nLeft = 0;
        int nRight = numbers.size() - 1;

        while (nLeft &lt; nRight){
            // 小心两个int之和溢出，使用long long类型
            long long int nAdd = numbers[nLeft] + numbers[nRight];
            if (nAdd == target){
                vecRet.push_back(nLeft + 1);
                vecRet.push_back(nRight + 1);

                return vecRet;
            }
            else if (nAdd &gt; target){
                nRight--;
            }
            else if (nAdd &lt; target){
                nLeft++;
            }
        }

        return vecRet;
    } 
};
</code></pre><p>由于Two Sum2 题目是收费的，因此木有进行leetCode的OJ评判，直接上本地运行截图吧，sign~</p><p><img src="http://7xilk1.com1.z0.glb.clouddn.com/leetCode003Run2.jpg" alt="leetCode Two Sum 2  Run"></p></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Chen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://hechen.xyz/2015/04/29/leetCode-003-Two-Sum/">http://hechen.xyz/2015/04/29/leetCode-003-Two-Sum/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Algorithm/">Algorithm</a><a class="post-meta__tags" href="/tags/Array/">Array</a></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=undefined" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2015/05/01/leetCode-002-Reverse-Words-in-a-String/"><i class="fa fa-chevron-left"></i><span>leetCode[002]Reverse Words in a String</span></a></div><div class="next-post pull-right"><a href="/2015/04/29/leetCode-003-Intersection-of-Two-Linked-lists/"><span>leetCode[002]Intersection of Two Linked lists</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var unused=null,disqus_config=function(){this.page.url="http://hechen.xyz/2015/04/29/leetCode-003-Two-Sum/",this.page.identifier="2015/04/29/leetCode-003-Two-Sum/",this.page.title="leetCode[003]Two Sum"},d=document,s=d.createElement("script");s.src="https://stoneman.disqus.com/embed.js",s.setAttribute("data-timestamp",""+ +new Date),(d.head||d.body).appendChild(s)</script><script id="dsq-count-src" src="https://stoneman.disqus.com/count.js" async></script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2014 - 2019 By Chen</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.6"></script><script src="/js/fancybox.js?version=1.5.6"></script><script src="/js/sidebar.js?version=1.5.6"></script><script src="/js/copy.js?version=1.5.6"></script><script src="/js/fireworks.js?version=1.5.6"></script><script src="/js/transition.js?version=1.5.6"></script><script src="/js/scroll.js?version=1.5.6"></script><script src="/js/head.js?version=1.5.6"></script></body></html>